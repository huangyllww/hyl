TOKEN
    Name  = "OemPCIeDev_SUPPORT"
    Value  = "1"
    Help  = "Main switch to enable OemPCIeDev support in Project"
    TokenType = Boolean
    TargetMAK = Yes
    TargetH = Yes
    Master = Yes
End

#<Yuanshai-20190710 for:Define Independent Variable Id for Dynamic PCIE Dev +>
TOKEN
    Name  = "OEMPCIE_DATA_ID"
    Value  = "0xE000"
    Help  = "Oem Pcie Dev List Variable ID"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
    Token = "OemPCIeDev_SUPPORT" "=" "1"
End
#<Yuanshai-20190710 for:Define Independent Variable Id for Dynamic PCIE Dev ->

PATH
    Name  = "OemPCIeDev_DIR"
End

ELINK
    Name  = "$(OemPCIeDev_DIR)/OemPCIeDev.sd"
    Parent  = "SETUP_DEFINITIONS"
    InvokeOrder = AfterParent
End

ELINK
    Name  = "$(OemPCIeDev_DIR)/OemPCIeDev.uni"
    Parent  = "SetupStringFiles"
    InvokeOrder = AfterParent
End

ELINK
    Name  = "$(OemPCIeDev_DIR)/OemPCIeDevSetupHook.c"
    Parent  = "SetupCallbackFiles"
    InvokeOrder = AfterParent
End

ELINK
    Name  = "gEfiIfrTianoGuid"
    Parent  = "AdditionalSetupGuids"
    InvokeOrder = AfterParent
End

MODULE
    Help  = "Includes OemPCIeDevSetup.mak to Project"
    File  = "OemPCIeDevSetup.mak"
End

ELINK
    Name  = "PciSlotMapList"
    InvokeOrder = ReplaceParent
End

ELINK
  Name  = "{0,0,0,0,0,0,0xFF,0xFF,0xFF},"
  Parent  = "PciSlotMapList"
  Help  = "Define by platform,example purley{skid,sltatr,socket,stacknumber,dev,func,portindex,DevDefValue,PortDefValue}"
  InvokeOrder = AfterParent
End

ELINK
    Name  = "gOemPcieDevProtocolGuid"
    Parent  = "AdditionalSetupProtocols"
    InvokeOrder = AfterParent 
End

INFComponent
    Name  = "OemPCIeDev"
    File  = "OemPCIeDev.inf"
    Package  = "OemPkg"
    ModuleTypes  = "DXE_DRIVER"
End

TOKEN
    Name  = "DEFAULT_PXE_OPROM_POLICY"
    Value  = "$(CSMSETUP_LEGACY_ONLY_OPROMS)"
    Help  = "Default value of Launch PXE OpROM policy setup control"
    TokenType = Integer
    TargetH = Yes
    Range  = "$(CSMSETUP_SKIP_OPROMS) - Do not launch\$(CSMSETUP_UEFI_ONLY_OPROMS) - Launch UEFI OpROM only\$(CSMSETUP_LEGACY_ONLY_OPROMS) - Launch Legacy OpROM only"
End

TOKEN
    Name  = "DEFAULT_MASS_STORAGE_OPROM_POLICY"
    Value  = "$(CSMSETUP_LEGACY_ONLY_OPROMS)"#<bieyb20161110> change default value
    Help  = "Default value of Launch Storage OpROM policy setup control"
    TokenType = Integer
    TargetH = Yes
    Range  = "$(CSMSETUP_SKIP_OPROMS) - Do not launch\$(CSMSETUP_UEFI_ONLY_OPROMS) - Launch UEFI OpROM only\$(CSMSETUP_LEGACY_ONLY_OPROMS) - Launch Legacy OpROM only"
End

TOKEN
    Name  = "DEFAULT_VIDEO_OPROM_POLICY"
    Value  = "$(CSMSETUP_LEGACY_ONLY_OPROMS)"
    Help  = "Default value of Launch Video OpROM policy setup control"
    TokenType = Integer
    TargetH = Yes
    Range  = "$(CSMSETUP_SKIP_OPROMS) - Do not launch\$(CSMSETUP_UEFI_ONLY_OPROMS) - Launch UEFI OpROM only\$(CSMSETUP_LEGACY_ONLY_OPROMS) - Launch Legacy OpROM only"
End

TOKEN
    Name  = "MAX_EXTERN_PORT_COUNTS"
    Value  = "32"
    Help  = "The device max extern ports will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "MAX_DEV_PORT"
    Value  = "4"
    Help  = "The device max ports will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "MAX_NB_DEV_COUNT"
    Value  = "4*12"
    Help  = "The device max count will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
    Token = "OemPCIeDevPlatLibrary_SUPPORT" "=" "0"
End

TOKEN
    Name  = "MAX_SB_DEV_COUNT"
    Value  = "24"
    Help  = "The device max count will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
    Token = "OemPCIeDevPlatLibrary_SUPPORT" "=" "0"
End

TOKEN
    Name  = "MAX_DEV_COUNT"
    Value  = "$(MAX_NB_DEV_COUNT)+$(MAX_SB_DEV_COUNT)"
    Help  = "The device max count will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "DYNAMIC_PCIDEV_ENTRY_NUMBER"
    Value  = "$(MAX_DEV_COUNT)*$(MAX_DEV_PORT)"
    Help  = "The count of pci dev Entry will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "PCIDEV_ENTRY_NUMBER"
    Value  = "$(DYNAMIC_PCIDEV_ENTRY_NUMBER)+5"
    Help  = "The count of pci dev Entry will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "PXEINDX"
    Value  = "$(DYNAMIC_PCIDEV_ENTRY_NUMBER)"
    Help  = "The count of pci dev Entry will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "MASSINDX"
    Value  = "$(DYNAMIC_PCIDEV_ENTRY_NUMBER)+1"
    Help  = "The count of pci dev Entry will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "VIDEOINDX"
    Value  = "$(DYNAMIC_PCIDEV_ENTRY_NUMBER)+2"
    Help  = "The count of pci dev Entry will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "OLDINDX"
    Value  = "$(DYNAMIC_PCIDEV_ENTRY_NUMBER)+3"
    Help  = "The count of pci dev Entry will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "NVMEINDX"
    Value  = "$(DYNAMIC_PCIDEV_ENTRY_NUMBER)+4"
    Help  = "The count of pci dev Entry will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "PCI_SETUP_DEFAULT_VALUE"
    Value  = "1"
    Help  = "The pci dev default value will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "PCI_OPROM_DEFAULT_VALUE"
    Value  = "4"
    Help  = "0 - Do not launch\1 - Launch UEFI OpROM only\2 - Launch Legacy OpROM only\4 - Auto"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "PCI_DEV_EXT"
    Value  = "0x80"
    Help  = "The pci dev ext flag will be generated"
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
End

#<lvych00320160912+>
TOKEN
    Name  = "OptionRomPolicy_SUPPORT"
    Value  = "0"
    Help  = "Main switch to enable Option ROM Dispatch Policy support in Project"
    TokenType = Boolean
    TargetMAK = Yes
    TargetH = Yes
End
#<lvych00320160912->

TOKEN
    Name  = "CSMSETUP_LEGACY_AND_UEFI_OPROMS"
    Value  = "3"
    Help  = "The value of this token corresponds to the the Boot Filtering definitions in CSM.SD"
    TokenType = Integer
    TargetH = Yes
    Lock = Yes
End

TOKEN
    Name  = "DEFAULT_PXE_OPROM_POLICY_EX"
    Value  = "$(CSMSETUP_LEGACY_ONLY_OPROMS)"
    Help  = "Default value of Launch PXE OpROM policy setup control"
    TokenType = Integer
    TargetH = Yes
    Range  = "$(CSMSETUP_SKIP_OPROMS) - Do not launch\$(CSMSETUP_UEFI_ONLY_OPROMS) - Launch UEFI OpROM only\$(CSMSETUP_LEGACY_ONLY_OPROMS) - Launch Legacy OpROM only"
End

TOKEN
  Name  = "DEFAULT_MASS_STORAGE_OPROM_POLICY_EX"
  Value  = "$(CSMSETUP_LEGACY_ONLY_OPROMS)"
  Help  = "Default value of Launch Storage OpROM policy setup control"
  TokenType = Integer
  TargetH = Yes
  Range  = "$(CSMSETUP_SKIP_OPROMS) - Do not launch\$(CSMSETUP_UEFI_ONLY_OPROMS) - Launch UEFI OpROM only\$(CSMSETUP_LEGACY_ONLY_OPROMS) - Launch Legacy OpROM only"
End

TOKEN
    Name  = "DEFAULT_VIDEO_OPROM_POLICY_EX"
    Value  = "$(CSMSETUP_LEGACY_ONLY_OPROMS)"
    Help  = "Default value of Launch Video OpROM policy setup control"
    TokenType = Integer
    TargetH = Yes
    Range  = "$(CSMSETUP_SKIP_OPROMS) - Do not launch\$(CSMSETUP_UEFI_ONLY_OPROMS) - Launch UEFI OpROM only\$(CSMSETUP_LEGACY_ONLY_OPROMS) - Launch Legacy OpROM only"
End

TOKEN
    Name  = "DEFAULT_OLD_OPROM_POLICY_EX"
    Value  = "$(CSMSETUP_LEGACY_ONLY_OPROMS)"
    Help  = "Default value of Launch Video OpROM policy setup control"
    TokenType = Integer
    TargetH = Yes
    Range  = "$(CSMSETUP_SKIP_OPROMS) - Do not launch\$(CSMSETUP_UEFI_ONLY_OPROMS) - Launch UEFI OpROM only\$(CSMSETUP_LEGACY_ONLY_OPROMS) - Launch Legacy OpROM only"
End

#//<Yaosr001-20191220 Realizes the linkage of 'BootOptionFilter' and 'PCIe OptionRom'. +>
ELINK
  Name  = "ITEM_CALLBACK(ADVANCED_FORM_SET_CLASS,0,CSM_BOOT_OPTION_FILTER_KEY,BootOptionFilterCallback),"
  Parent  = "SetupItemCallbacks"
  InvokeOrder = AfterParent
End
#//<Yaosr001-20191220 Realizes the linkage of 'BootOptionFilter' and 'PCIe OptionRom'. -> 

#<bieyb-20180727 add function enable SRIOV by port+>
TOKEN
    Name  = "OEM_SRIOV_ENABLE_BY_PORT_SUPPORT"
    Value  = "0"
    Help  = "Main switch to enable SRIOV enable by port support in Project"
    TokenType = Boolean
    TargetH = Yes
    Token = "OemPCIeDev_SUPPORT" "=" "1"
End

TOKEN
    Name  = "PCIE_SRIOV_DEFAULT_VALUE"
    Value  = "1"
    Help  = "0 - Disable\1 - Enable"
    TokenType = Boolean
    TargetMAK = Yes
    TargetH = Yes
End

ELINK
  Name  = "{0,0,0,0,0,0,0xFF,0xFF,0xFF,0xFF},"
  Parent  = "{0,0,0,0,0,0,0xFF,0xFF,0xFF},"
  Help  = "Define by platform,example purley{skid,boardtype,socket,stacknumber,dev,func,portindex,DevDefValue,PortDefValue,SriovDefValue}"
  InvokeOrder = ReplaceParent
  Token = "OEM_SRIOV_ENABLE_BY_PORT_SUPPORT" "=" "1"
End
#<bieyb-20180727 add function enable SRIOV by port->

#<Yuanshai-20190710 For :OemPciedev.vfr Dynamic page, this token will new variable cause multivaraible" --BEGIN>
ELINK
   Name = "{{0x97cdc6be, 0x7792, 0x4782, 0xba, 0x6d, 0xe6, 0xe3, 0xbb, 0x56, 0x66, 0x66}, {'O','E','M','P','C','I','E','_','D','E','V'}},"
   Parent = "AMITSE_DYNAMICPARSING_HANDLE_SUPPRESS_LIST"
   InvokeOrder = AfterParent
End
ELINK
    
    Name = "{{ 0xEDA2B104, 0x7A10, 0x4519, 0xB0, 0xA1, 0xEB, 0xA5, 0xC5, 0x2A, 0xCF, 0xCE }, {'O','e','m','P','o','r','t','V','a','r','1'}},"
    Parent = "AMITSE_DYNAMICPARSING_HANDLE_SUPPRESS_LIST"
    InvokeOrder = AfterParent
End
#<Yuanshai-20190710 For :OemPciedev.vfr Dynamic page, this token will new variable cause multivaraible" --END>

#Mizl-20220101-SGEZT#21956 PCIe Dev List - Load Default/NVMe Feature Abnormally+>
TOKEN
	Name  = "SUPPRESS_HANDLE_FOR_VAR_CREATION"
	Value  = "1"
	Help  = "0 is DEFAULT.0 => Includes handle comparison to create new variable cache in TSE. 1 => Won't compare handle to create new variable. The variable detail should present in AMITSE_DYNAMICPARSING_HANDLE_SUPPRESS_LIST to not compare handle"
	TokenType = Boolean
	TargetH = Yes
End
#Mizl-20220101-SGEZT#21956 PCIe Dev List - Load Default/NVMe Feature Abnormally->