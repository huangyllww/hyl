
################################################################################
###
###  SIO Options
###
################################################################################
TOKEN
    Name  = "AST2500_SUPPORT"
    Value  = "1"
    Help  = "Main switch to enable AST2500 support in Project"
    TokenType = Boolean
    TargetEQU = Yes
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_ACTIVATE_VALUE"
    Value  = "0x81" #BIT7: port80, BIT6~1: reserved, BIT0:SIO GPIO
    Help  = "Value to activate Device."
    TokenType = Integer
    TargetH = Yes
End

TOKEN
    Name  = "OEM_AST2500_PORT80_GPIO_BAND"
    Value  = "IO_BANDH"
    Help  = "Select IO Band for PORT80 GPIO\IO_BANDA, IO_BANDB, IO_BANDC, ..., IO_BANDZ, IO_BANDAA, IO_BANDAB\Other - unsupported"
    TokenType = Expression
    TargetEQU = Yes
    TargetH = Yes
End

TOKEN
    Name  = "SIO_SETUP_USE_APTIO_4_STYLE"
    Value  = "1"
    Help  = "Main switch to enable Aptio 4.x Static Setup Screen Instead of Auto generated Setup in Aptio V."
    TokenType = Boolean
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_CONFIG_INDEX"
    Value  = "0x4E"
    Help  = "SIO index port."
    TokenType = Integer
    TargetEQU = Yes
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_CONFIG_DATA"
    Value  = "0x4F"
    Help  = "SIO data port."
    TokenType = Integer
    TargetEQU = Yes
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_SERIAL_PORT1_PRESENT"
    Value  = "1" 
    Help  = "Serial Port 1 (COMA / UART1) Present / Not Present."
    TokenType = Boolean
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_SERIAL_PORT2_PRESENT"
    Value  = "0"
    Help  = "Serial Port 2 (COMB / UART2) Present / Not Present."
    TokenType = Boolean
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_SERIAL_PORT3_PRESENT"
    Value  = "0"
    Help  = "Serial Port 3 (COMC / UART3) Present / Not Present."
    TokenType = Boolean
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_SERIAL_PORT4_PRESENT"
    Value  = "0"
    Help  = "Serial Port 4 (COMD / UART4) Present / Not Present."
    TokenType = Boolean
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_SERIAL_PORT1_ADDR"
    Value  = "0x220"
    Help  = "SERIAL  Port 1 address "
    TokenType = Integer
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_DBG_SUPPORT"
    Value  = "0"
    Help  = "Switch to enable SIO serial port debug function support in Project"
    TokenType = Boolean
    TargetEQU = Yes
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "DEBUG_COM_PORT_ADDR"
    Value  = "$(AST2500_SERIAL_PORT1_ADDR)"
    Help  = "COM Port address the debugger uses. "
    TokenType = Integer
    TargetH = Yes
End

TOKEN
    Name  = "DEBUG_LDN_UART"
    Value  = "$(AST2500_LDN_UART1)"
    Help  = "UARTx Logical Device for Debugger."
    TokenType = Integer
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_RECOVERY_SUPPORT"
    Value  = "1"
    Help  = "Switch to enable SIO recovery support in Project"
    TokenType = Boolean
    TargetEQU = Yes
    TargetMAK = Yes
    TargetH = Yes
End

TOKEN
    Name  = "RECOVERY_COM_PORT_ADDR"
    Value  = "$(AST2500_SERIAL_PORT1_ADDR)"
    Help  = "COM Port address the recovery uses."
    TokenType = Integer
    TargetH = Yes
End

TOKEN
    Name  = "RECOVERY_LDN_UART"
    Value  = "$(AST2500_LDN_UART1)"
    Help  = "UARTx Logical Device for recovery."
    TokenType = Integer
    TargetH = Yes
End

SIODEVICE
    Name  = "AST2500"
    Parent  = "LpcBridge"
    IndexPort  = 04eh
    DataPort  = 04fh
    StdSioType  = "Yes"
    DevSelReg  = 07h
    ActivateReg  = 030h
    ActivateVal  = 01h
    DeActivateVal  = 00h
    BaseHiReg1  = 060h
    BaseLoReg1  = 061h
    BaseHiReg2  = 062h
    BaseLoReg2  = 063h
    Irq1Reg  = 070h
    Irq2Reg  = 072h
    Dma1Reg  = 074h
    Dma2Reg  = 075h
    GblRegFlag  = "0x3fe000000000"
    LocalRegFlag  = "0xffffffff0000000000000000000000000033000f000000000001000000000000"
    EnterConfig  = "Script,'Index;Write;A5h','Index;Write;A5h'"
    ExitConfig  = "Script,'Index;Write;AAh'"
    SMBIOSStr  = "Test String"
    GPEbit  = 01dh
    SleepNum  = 03h
    ASLfile  = "'AmiModulePkg/IO/AST2500/AST2500Dev.asl','AmiModulePkg/IO/AST2500/AST2500Evt.asl'"
    ASLdeviceName  = "SIO1"
End

TOKEN
    Name  = "TOTAL_SIO_SERIAL_PORTS"
    Value  = "1"    
    Help  = "**PORTING NEEDED**Total number of Super IO serial ports present."
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
    Range  = "0-10"
End

TOKEN
    Name  = "TOTAL_PCI_SERIAL_PORTS"
    Value  = "1"
    Help  = "**PORTING NEEDED** Total number of PCI serial ports present."
    TokenType = Integer
    TargetMAK = Yes
    TargetH = Yes
    Range  = "0-4"
End

TOKEN
    Name        = "FCH_SERIAL_IRQ_MODE"
    Value       = "1"
    Help        = "define Serial Irq Mode: 1:Continuous mode,0: Active (quiet) mode,In some SIO device ,it only worked at Continuous or quiet mode"
    TokenType   = Boolean
    TargetH     = Yes
End

PcdMapping
    Name        = "PcdFchOscout1ClkContinous"
    GuidSpace   = "gEfiAmdAgesaModulePkgTokenSpaceGuid"
    PcdType     = "PcdsDynamicDefault"
    DataType    = "Boolean"
    Value       = "$(FCH_SERIAL_IRQ_MODE)"
    Offset      = 00h
    Length      = 01h
    TargetDSC   = Yes
End


################################################################################
###
### Port80 GPIO base address
###
################################################################################
TOKEN
    Name  = "AST2500_GPIOBASE"
    Value  = "0x1E780000"
    Help  = "Set to GPIO port for PORT80 post code."
    TokenType = Expression
    TargetH = Yes
End

TOKEN
    Name  = "AST2500_LPCBASE"
    Value  = "0x1E789000"
    TokenType = Integer
    TargetEQU = Yes
    TargetH = Yes
End

#################################################################################
##
LDEVICE
    Name  = "Com1"
    SioDevice  = "AST2500"
    Dev_Type  = "dsUART"
    LDev_Num  = "02h"
    UID  = "00h"
    PnPID  = "0501h"
    SIO_RES_Flag  = "0x0"
    HasSetup = Yes
    ResBaseAddr1  = "00h"
    ResLength1  = "00h"
    ResBaseAddr2  = "00h"
    ResLength2  = "00h"
    InitRoutine  = "AST2500_COM_Init"
    SleepNum  = 01h
    ASLfile  = "'OemProjectPkg-62DB32\UART1.ASL'"
    ASLdeviceName  = "UAR1"
    Token = "AST2500_SERIAL_PORT1_PRESENT" "=" "1"
End